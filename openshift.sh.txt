# Ensure that the image streams that are required for the deployment are available in your OpenShift environment.
$ oc get imagestreamtag -n openshift | grep rhpam71-businesscentral
$ oc get imagestreamtag -n openshift | grep rhpam71-kieserver
$ oc new-project  my-pam-authoring
$ oc create -f /Users/msnoussi/Installers/rhpam-7.1/rhpam-7.1.0-openshift-templates/rhpam71-image-streams.yaml

# $ keytool -genkeypair -alias jboss -keyalg RSA -keystore server.keystore -storepass mykeystorepass --dname "CN=jsmith,OU=Engineering,O=mycompany.com,L=Raleigh,S=NC,C=US"

$ keytool -genkeypair -alias jboss -keyalg RSA -keystore keystore.jks -storepass mykeystorepass --dname "CN=snoussi,OU=emeassa,O=redhat.com,L=Paris,C=FR"

$ oc create secret generic kieserver-app-secret --from-file=keystore.jks
$ oc create secret generic businesscentral-app-secret --from-file=keystore.jks
$ oc create secret generic decisioncentral-app-secret --from-file=keystore.jks


$ oc new-app -f /Users/msnoussi/Installers/rhpam-7.1/rhpam-7.1.0-openshift-templates/templates/rhpam71-authoring.yaml -p BUSINESS_CENTRAL_HTTPS_SECRET=businesscentral-app-secret -p KIE_SERVER_HTTPS_SECRET=kieserver-app-secret -p IMAGE_STREAM_NAMESPACE=openshift -p KIE_ADMIN_USER=pamAdmin -p KIE_ADMIN_PWD=pamAdmin1!



### DM ###


$ oc new-project  my-decision-central
$ oc create -f /Users/msnoussi/Installers/rhdm-7.1/rhdm-7.1.0-openshift-templates/rhdm71-image-streams.yaml
$ keytool -genkeypair -alias jboss -keyalg RSA -keystore keystore.jks -storepass mykeystorepass --dname "CN=snoussi,OU=emeassa,O=redhat.com,L=Paris,C=FR"
$ oc create secret generic businesscentral-app-secret --from-file=keystore.jks
$ oc create secret generic decisioncentral-app-secret --from-file=keystore.jks

$ oc new-app -f /Users/msnoussi/Installers/rhdm-7.1/rhdm-7.1.0-openshift-templates/templates/rhdm71-authoring.yaml -p DECISION_CENTRAL_HTTPS_SECRET=decisioncentral-app-secret -p KIE_SERVER_HTTPS_SECRET=kieserver-app-secret